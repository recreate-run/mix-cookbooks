# Mix Cookbooks - Integration Guide

## What is Mix?

Mix SDK enables **autonomous AI agents** for webapps. Unlike OpenAI API (text generation only), Mix provides:

- ğŸ” **Search** - Autonomous web search (Brave API)
- ğŸ“– **ReadText** - Read files, URLs, multi-source content
- ğŸ“¸ **ReadMedia** - Vision analysis (images, PDFs, videos)
- ğŸ **PythonExecution** - AI writes AND runs code (pandas, matplotlib)
- ğŸ“Š **ShowMedia** - Display AI-generated visualizations
- âš™ï¸ **Bash** - File operations, system commands

**Key Differentiator**: AI autonomously selects and uses tools. You don't hardcode workflowsâ€”AI decides what to do.

---

## Mix TStack Start - Default Project Setup

All examples use **Mix + TanStack Start** template for rapid development:

### Pre-Configured Stack
```
âœ… React 19 + TypeScript (strict mode)
âœ… TanStack Start (SSR framework) + Router (file-based routing)
âœ… TanStack Query (data fetching)
âœ… Mix TypeScript SDK 0.8.8 (pre-installed)
âœ… Tailwind CSS v4
âœ… 50+ Shadcn UI components (Radix UI)
âœ… Biome (linting & formatting)
âœ… Vite dev server with HMR
```

### Project Structure
```
example-name/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ __root.tsx          # Root layout
â”‚   â”‚   â”œâ”€â”€ index.tsx           # Home page
â”‚   â”‚   â””â”€â”€ api/                # API routes (create these)
â”‚   â”‚       â”œâ”€â”€ session.ts      # Mix session creation
â”‚   â”‚       â””â”€â”€ stream.$sessionId.ts  # SSE streaming
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/                 # Shadcn components (50+)
â”‚   â”‚   â””â”€â”€ [custom]/           # Your components
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ mix-client.ts       # Mix SDK singleton (pre-configured)
â”‚   â”‚   â”œâ”€â”€ mix-streaming.ts    # Streaming helpers
â”‚   â”‚   â””â”€â”€ utils.ts
â”‚   â””â”€â”€ styles.css
â”œâ”€â”€ .env                         # MIX_SERVER_URL
â”œâ”€â”€ Makefile                     # Dev commands
â”œâ”€â”€ package.json
â””â”€â”€ CLAUDE.md                    # Dev instructions
```

### Development Commands
```bash
make dev          # Start dev server (auto-reload, logs to dev.log)
make tail-log     # View last 100 lines of dev.log
make typecheck    # TypeScript type checking
```

### Mix SDK Integration (Pre-Configured)
```typescript
// lib/mix-client.ts - Singleton pattern
import { getMixClient } from "@/lib/mix-client"
const mix = getMixClient() // Ready to use

// lib/mix-streaming.ts - Streaming helpers
import { sendWithCallbacks } from "@/lib/mix-streaming"
```

### Creating New Example
Copy `cms-media-intelligence/` folder as template - everything is already set up:
- Mix SDK installed and configured
- API route patterns ready
- Streaming utilities included
- Shadcn UI components available

---

## Our Approach: Integration, NOT Standalone Apps

âŒ **Wrong**: Build standalone chat interfaces (Mix Playground already does this)

âœ… **Right**: Show how to **add AI to existing webapp types**

### Example Pattern (Shopping App)
```
Existing: Product grid with specs
Integration: Select products â†’ "Research with AI" button â†’ Sidebar analysis
Result: Enhanced shopping experience, not replaced
```

---

## Focus Examples - Webapp Integrations

### 1. CMS + AI Media Intelligence
**Existing Webapp**: Content management system with media library

**AI Integration**:
- ğŸ“¸ Smart image search by description ("sunset beach photos")
- ğŸ·ï¸ Auto-tagging uploaded images
- â™¿ Alt text generation for accessibility
- ğŸ” Find visually similar images

**Mix Tools**: `ReadMedia` (vision), `PythonExecution` (similarity), `ShowMedia`

**Why Agentic**: AI analyzes all images autonomously, no manual tagging

---

### 2. Admin Panel + Data Intelligence
**Existing Webapp**: Admin dashboard with data tables

**AI Integration**:
- ğŸ“Š CSV analysis (upload â†’ AI generates insights + charts)
- ğŸ” Anomaly explanation ("Why did signups drop 40%?")
- ğŸ’¬ Natural language queries ("Show users who never converted")
- ğŸ“ˆ Autonomous report generation

**Mix Tools**: `ReadText` (CSV), `PythonExecution` (pandas/matplotlib), `ShowMedia` (charts)

**Why Agentic**: AI writes ALL analysis code. User writes 0 lines.

**Key Feature**: Code viewer shows AI-generated pandas/matplotlib code

---

### 3. E-Commerce + Autonomous Research
**Existing Webapp**: Shopping app with product catalog (already built)

**AI Enhancement**: Add "Research Mode"
- ğŸ” AI searches web for product reviews
- ğŸ“– AI reads 5-10 review articles autonomously
- ğŸ“Š Sentiment analysis across sources
- ğŸ“ˆ Expert ratings aggregation
- ğŸ”— Every claim cited with source URLs

**Mix Tools**: `Search` + `ReadText` + `PythonExecution` + `ShowMedia` (all tools combined)

**Why Agentic**: Complete autonomous workflow from search â†’ analysis â†’ visualization

**Key Feature**: Source citations solve AI hallucination problem

---

## Technical Integration Pattern

### Pattern: Sidebar Modal (Non-Blocking)
```typescript
// 1. User action in existing UI
<Button onClick={triggerAI}>Analyze with AI</Button>

// 2. Sidebar opens (keeps context visible)
<Sidebar>
  {/* Real-time tool visibility */}
  <ToolProgress>
    ğŸ” Searching web...
    ğŸ“– Reading 8 sources...
    ğŸ“Š Analyzing data...
  </ToolProgress>

  {/* AI-generated results */}
  <Results>
    <Charts />
    <Insights />
    <Sources />
  </Results>
</Sidebar>

// 3. Follow-up questions
<Input placeholder="Ask more..." />
```

### API Routes (2 routes per example)
```typescript
// 1. Session creation
POST /api/session
â†’ Creates Mix session, returns session ID

// 2. SSE streaming
GET /api/stream/:sessionId?message=...
â†’ Streams AI responses in real-time
```

---

## Key Success Criteria

Each example must:
1. âœ… **Integrate into existing webapp** (not separate chat page)
2. âœ… **Autonomous tool use** (AI decides which tools)
3. âœ… **Real-time visibility** (user sees AI working)
4. âœ… **Impossible with OpenAI alone** (requires Mix tools)
5. âœ… **Practical for developers** (reusable patterns)

---

## What Makes Mix Unique

| Capability | OpenAI API | Mix SDK |
|------------|-----------|---------|
| **Web Search** | âŒ No | âœ… Autonomous |
| **Code Execution** | âŒ No | âœ… Writes & runs |
| **Vision** | âš ï¸ Manual input | âœ… Autonomous |
| **Multi-Step Workflows** | âš ï¸ Manual prompting | âœ… Autonomous |
| **Citations** | âŒ No sources | âœ… Auto-cited |

---

## Implementation Timeline

| Example | Development | Key Feature |
|---------|-------------|-------------|
| **Shopping Enhancement** | 10h | All tools combined |
| **Admin Panel** | 8-12h | Code execution showcase |
| **CMS Media** | 10-14h | Vision capabilities |

**Total**: ~5-7 days

---

## Marketing Angle

### âŒ Don't Say
- "AI-powered chat"
- "Smart assistant"
- "AI helps you write code"

### âœ… Do Say
- "AI autonomously searches, reads, analyzes"
- "AI writes and executes code itself"
- "You wrote 0 lines, AI wrote 50+"
- "Can't do this with just OpenAI API"

---

## Getting Started

See individual plans:
- `/plan/01-cms-media-intelligence.md`
- `/plan/02-admin-data-intelligence.md`
- `/plan/03-shopping-app-agentic-research.md`

Master overview: `/plan/00-IMPLEMENTATION-PLAN.md`
